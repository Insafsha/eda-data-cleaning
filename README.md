# Анализ и очистка данных о недвижимости Москвы (EDA)

##  Описание проекта

Этот проект — полноценное исследование большого датасета недвижимости Москвы (30 000+ объектов, 290+ признаков).  
Основная цель — привести данные в рабочий вид, выявить закономерности ценообразования и подготовить очищенный датасет, пригодный для дальнейшего моделирования и продуктовой аналитики.

В проекте выполнен полный цикл EDA: от поиска ошибок до формирования новых признаков и анализа факторов, влияющих на цену.

Графики и все визуальные материалы находятся в `results/report.md`.

##  Этап 1. Очистка и подготовка данных

###  Первичная диагностика

На первом этапе были изучены:

- типы признаков
- распределения
- количество пропусков
- наличие аномальных значений
- логические связи между показателями

Уже на этом этапе стало понятно, что данные содержат много ошибок и шумов, и перед анализом требуется серьёзная очистка.

###  Обнаруженные ошибки в данных

В датасете встречались:

- отрицательные площади (`full_sq < 0`)
- жилая площадь больше общей (`life_sq > full_sq`)
- кухня больше всей квартиры (`kitch_sq > full_sq`)
- этаж выше максимального (`floor > max_floor`)
- нереалистичные года строительства (1600-е, 2025)
- выбросы с площадью более 300–5000 м²
- сильные пропуски в инфраструктуре

###  Методы очистки

Для восстановления корректности данных применялись:

- замена аномалий на NaN
- удаление невозможных строк
- заполнение пропусков медианами по признаку
- фильтрация экстремальных значений
- стандартизация базовых столбцов

В результате удалось получить чистый, аккуратный датафрейм, в котором отсутствуют грубые логические ошибки, и который можно анализировать дальше.

##  Этап 2. Инженерия признаков

Созданы новые признаки:

- возраст здания (`building_age`)
- доля жилой площади (`life_ratio`)
- доля кухни (`kitch_ratio`)
- цена за квадратный метр (`price_per_m2`)
- логарифм цены (`log_price`)
- логарифм площади (`log_full_sq`)

**Зачем это сделано?**

- Логарифмы снижают сильную асимметрию распределений и помогают увидеть реальные зависимости
- Цена за м² — один из ключевых показателей недвижимости
- Возраст здания нередко является значимым фактором
- Отношения площадей помогают выявлять нетипичные планировки и сегменты жилья

Эти признаки усиливают объяснимость модели и позволяют аналитически увидеть структуру рынка.

##  Этап 3. Исследовательский анализ (EDA)

Полный набор графиков находится в `results/report.md`.  
Здесь приводятся ключевые выводы по визуализациям, без самих картинок.

###  Анализ распределений

- Цена (`price_doc`) имеет ярко выражённый правый хвост — много дорогих объектов
- Площадь (`full_sq`) также скошена, что типично для квартир: большинство — 30–80 м²
- После логарифмирования оба распределения становятся намного более гладкими и удобными для анализа
- Логарифм цены и логарифм площади показывают почти линейную зависимость — важный инсайт

###  Анализ связей между переменными

- Цена сильно растёт с площадью, но с большим шумом
- Увеличение количества комнат тоже повышает стоимость, но менее резко
- Цена за квадратный метр — один из самых информативных признаков
- Жилая площадь объясняет вариацию цены лучше, чем общая
- Многое объясняется районом и инфраструктурой, хотя эти признаки более шумные

###  Корреляции

**Топ-5 признаков по влиянию на цену:**

1. Жилая площадь (`life_sq`)
2. Общая площадь (`full_sq`)
3. Количество комнат (`num_room`)
4. Инфраструктурная насыщенность (`sport_count` / `trc_count`)
5. Удалённость от центра (`km-признаки`)

**Интересно, что:**

- год постройки влияет умеренно
- этажность не даёт стабильной зависимости
- инфраструктура влияет, но менее линейно

##  Итоговые выводы

###  Качество данных

Изначально данные были сильно зашумлены.  
После очистки — готовы к дальнейшему использованию в моделях и аналитике.

###  Факторы, влияющие на цену

**Самые важные:**

- площадь и её компоненты
- количество комнат
- инфраструктура вокруг объекта
- удалённость от центра
- цена за квадратный метр

###  Зачем этот проект полезен?

Он демонстрирует:

- профессиональный подход к очистке данных
- умение находить и исправлять аномалии
- создание новых признаков
- глубокий EDA
- грамотную интерпретацию графиков
- аккуратное документирование результатов